# Pepper Analysis Project

## Overview

This project is designed to analyze account segmentation and revenue team structuring data. The analysis focuses on segmenting accounts based on ARR (Annual Recurring Revenue) and MRR (Monthly Recurring Revenue) growth, generating summary tables, and providing insights into account distribution, ARR, and MRR growth metrics. Additionally, the project includes country-specific metrics and vertical analysis.

## How to Clone and Use the Repository

### Step 1: Clone the Repository

1. Open a terminal or command prompt.
2. Run the following command to clone the repository:
   ```bash
   git clone https://github.com/michaelrickarena/pepper.git
   ```
3. Navigate to the cloned repository:
   ```bash
   cd pepper
   ```

### Step 2: Set Up the Environment

1. Ensure you have Python 3.x installed on your system.
2. Install the required Python packages by running:
   ```bash
   pip install -r requirements.txt
   ```

### Step 3: Prepare the Input Data

1. Ensure the file `Account Segmentation & Revenue Team Structuring Exercise - Data.csv` is uploaded to the root directory of the project. This is not provided in this repository for confidentiality reasons.

### Step 4: Run the Analysis

1. Execute the main script to start the analysis:
   ```bash
   python __main__.py
   ```
2. The results will be saved in the `../data/Segments`, `../data/ARR Band`, `../data/Verticals` directory as CSV files.

## Requirements

- Python 3.x
- Pandas
- Numpy

## Files and Their Purpose

### 1. `segments.py`

This is the main script that processes the data and generates the analysis. It includes the following functionalities:

- **Data Loading and Cleaning**: Loads and preprocesses the input data using utility functions.
- **Segmentation Logic**: Segments accounts into categories such as Strategic Accounts, Key Accounts, Growth Accounts, etc., based on ARR and MRR growth thresholds.
- **Summary Table Generation**: Creates a summary table with metrics like total ARR, median ARR, average ARR, % MRR growth, and % of customers with one product.
- **Country-Specific Metrics**: Calculates metrics such as `% US Accounts`, `% Canada Accounts`, `US Total ARR ($MM)`, and `Canada Total ARR ($MM)`.
- **Vertical Analysis**: Generates a pivot table summarizing the percentage of verticals in each segment.
- **Exports**: Outputs the results to CSV files for further analysis.

### 2. `utils.py`

This file contains utility functions that support the main analysis in `segments.py`. Key functionalities include:

- **Data Cleaning**: Functions to clean and preprocess ARR and MRR growth data.
- **Data Loading**: Functions to load the input dataset and prepare it for analysis.

### 3. `Account Segmentation & Revenue Team Structuring Exercise - Data.csv`

This is the input dataset for the analysis. It contains the following columns:

- `Distributor Name`: Name of the distributor.
- `Location`: Geographical location of the distributor.
- `Vertical`: The vertical inside food distribution that the distributor belongs to
- `Annual Sales Range`: Companies annual sales number
- `ARR Band`: Annual recurring revenue that companies in this segment are spending on Pepper, at the start of the time period
- `# of Products`: # of Pepper product company is subscribed to at the start of the time period
- `Starting MRR` and `Ending MRR`: Monthly Recurring Revenue at the start and end of the period.
- `MRR Growth` and `% MRR Growth`: Absolute and percentage growth in MRR.
- `Starting ARR` and `Ending ARR`: Annual Recurring Revenue at the start and end of the period.
- `Country`, `State`, `City`: Geographical details of the distributor.

### 4. `segments_summary.csv`

This is an output file generated by `segments.py`. It contains the summary table with the following metrics:

- `Segment`: Account segment.
- `# Accounts`: Number of accounts in the segment.
- `Total Ending ARR`: Total ARR for the segment.
- `Median Ending ARR`: Median ARR for the segment.
- `Average Ending ARR`: Average ARR for the segment.
- `Average % MRR Growth` and `Median % MRR Growth`: Average and median MRR growth percentages.
- `Average # of Products`: Average number of products sold in the segment.
- `% of Customers in Segment With 1 Product`: Percentage of customers with only one product.
- `% US Accounts` and `% Canada Accounts`: Percentage of accounts in the US and Canada.
- `US Total ARR ($MM)` and `Canada Total ARR ($MM)`: Total ARR in millions for the US and Canada.

### 5. `segments_analysis.csv`

This is another output file generated by `segments.py`. It contains the detailed data with the assigned segments for each account.

### 6. `segment_verticals_summary.csv`

This output file contains the vertical analysis, showing the percentage of each vertical in each segment.

### 7. `arr_band.py`

This script processes and analyzes the ARR (Annual Recurring Revenue) bands for the accounts. It includes the following functionalities:

- **ARR Band Mapping**: Maps accounts to specific ARR bands based on their starting ARR.
- **Analysis**: Provides insights into the distribution of accounts across different ARR bands.
- **Exports**: Outputs the results to a CSV file for further analysis.

### 8. `verticals.py`

This script focuses on analyzing the verticals within the food distribution industry. It includes the following functionalities:

- **Vertical Analysis**: Groups accounts by vertical and provides insights into their distribution and metrics.
- **Exports**: Outputs the vertical analysis results to a CSV file.
